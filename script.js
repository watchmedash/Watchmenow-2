function setCookie(e,t,n){var o=new Date,n=(o.setTime(o.getTime()+24*n*60*60*1e3),"expires="+o.toUTCString());document.cookie=e+"="+t+";"+n+";path=/"}function getCookie(n){var o=document.cookie.split(";");for(let t=0;t<o.length;t++){let e=o[t];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(n))return e.substring(n.length+1,e.length)}return""}document.addEventListener("DOMContentLoaded",()=>{let n;function o(e){var t=document.getElementById("searchInput"),n=document.getElementById("searchResults");const o=t.value.toLowerCase();if((n.innerHTML="")===o.trim())n.style.display="none";else{t=e.filter(e=>e.title.toLowerCase().includes(o));if(0===t.length)n.innerHTML="<p>No results found.</p>";else{e=t;t=n;const r=document.createElement("ul");e.forEach(e=>{var t=document.createElement("li"),n=document.createElement("a");const o=e.title.trim();n.textContent=o,n.href=`../movies/${encodeURIComponent(o)}.html`,n.addEventListener("click",e=>{e.preventDefault();e=o;e=`redirect.html?url=../movies/${encodeURIComponent(e)}.html`,window.location.href=e}),t.dataset.tooltip=e.imageSrc,t.appendChild(n),r.appendChild(t)}),t.appendChild(r),function(){var e=document.querySelectorAll("li[data-tooltip]");e.forEach(e=>{e.querySelector("a");const t=e.dataset.tooltip,n=document.createElement("div");n.className="tooltip",n.textContent="Loading...",e.addEventListener("mouseenter",()=>{n.textContent="Loading...",n.style.display="block";const e=document.createElement("img");e.src=t,e.onload=()=>{n.textContent="",n.appendChild(e),e.style.maxWidth="20%",e.style.maxHeight="20%"}}),e.addEventListener("mouseleave",()=>{n.style.display="none"}),e.appendChild(n)})}()}n.style.display="block"}}fetch("home.html").then(e=>{if(e.ok)return e.text();throw new Error("Network response was not ok")}).then(e=>{var t=document.createElement("div"),e=(t.innerHTML=e,t.querySelectorAll("figure[data-genre][data-release-year]"));n=Array.from(e).map(e=>{return{title:e.querySelector("figcaption").textContent,imageSrc:e.querySelector("img.defer-image").getAttribute("data-src")}}),console.log("Movie Data Loaded:",n),o(n)}).catch(e=>{console.error("Error loading movie data:",e)}),document.getElementById("searchInput").addEventListener("input",()=>o(n)),document.getElementById("searchResults").style.display="none"}),"true"===getCookie("cookieConsent")?document.getElementById("cookieConsentBanner").style.display="none":document.getElementById("cookieConsentBanner").style.display="block",document.getElementById("acceptCookiesButton").addEventListener("click",function(){setCookie("cookieConsent","true",365),document.getElementById("cookieConsentBanner").style.display="none"});